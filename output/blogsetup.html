<!DOCTYPE html>
<head>
  <title>Blog Setup - Conferment of the Thirty Birds</title>
  <meta charset='utf-8'/>
  <meta content='width=device-width, initial-scale=1' name='viewport'/>
    <meta rel='canonical' href='/blogsetup.html'/>
      <link rel='stylesheet' href='/theme/css/main.css'/>
</head>

<body itemscope itemtype='https://schema.org/WebPage' itemref='publisher-name publisher-description'>
  <div id='header'>
    <div class='handle'><span class='dots'></span></div>
    <div class='content'>
      <div itemscope itemtype='https://schema.org/Organization' itemid=''>
        <header id='publisher'>
          <h1><a itemprop='url' rel='home' href=''><span itemprop='name' id='publisher-name'>Conferment of the Thirty Birds</span></a></h1>
        </header>
      </div>


<nav itemscope itemtype='https://schema.org/SiteNavigationElement'>
  <div class='container'>
    <div class='handle'>(Pages)</div>
    <div class='content'>
        (<span itemprop='name'><a itemprop='url' href='/tags.html' >Tags</a></span>)
        (<span itemprop='name'><a itemprop='url' href='/authors.html' >Authors</a></span>)
        (<span itemprop='name'><a itemprop='url' href='/archives.html' >Archives</a></span>)
    </div>
  </div>


  <div class='container' id='nav-breadcrumb-container'>
    <div class='handle'>&gt;</div>
    <div class='content'>


<div itemscope itemtype='https://schema.org/BreadcrumbList'>
      <span itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
    <a itemprop='item' href='/blogsetup.html'><span itemprop='name'>Blog Setup</span></a>
    <meta itemprop='position' content='4'/>
  </span>
  &lt;

      <span itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
    <a itemprop='item' href='/category/notes-for-self.html'><span itemprop='name'>Notes for Self</span></a>
    <meta itemprop='position' content='3'/>
  </span>
  &lt;

      <span itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
    <a itemprop='item' href='/categories.html'><span itemprop='name'>Categories</span></a>
    <meta itemprop='position' content='2'/>
  </span>
  &lt;

    <span itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'>
    <meta itemprop='name' content='Home'/>
    <span itemprop='item' itemscope itemtype='https://schema.org/Blog'>
      <meta itemprop='name' content='Conferment of the Thirty Birds'/>
      <a itemprop='url' href=''>Home</a>
    </span>
    <meta itemprop='position' content='1'/>
  </span>

</div>

<div itemscope itemtype='https://schema.org/BreadcrumbList'>
      <span itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
    <a itemprop='item' href='/blogsetup.html'><span itemprop='name'>Blog Setup</span></a>
    <meta itemprop='position' content='5'/>
  </span>
  &lt;


        01
        &lt;
        September
        &lt;
        2019
        &lt;
    <span itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'>
    <meta itemprop='name' content='Home'/>
    <span itemprop='item' itemscope itemtype='https://schema.org/Blog'>
      <meta itemprop='name' content='Conferment of the Thirty Birds'/>
      <a itemprop='url' href=''>Home</a>
    </span>
    <meta itemprop='position' content='1'/>
  </span>

</div>    </div>
  </div>
</nav>    </div>
  </div>

  <main>

    <article itemprop='mainEntity' itemscope itemtype='https://schema.org/BlogPosting'>
    <meta itemprop='headline' content='Blog Setup'/>
    <link itemprop='publisher' itemscope itemtype='https://schema.org/Organization' itemref='publisher' href=''/>
    <link itemprop='mainEntityOfPage' href='/blogsetup.html'/>
    <meta itemprop='inLanguage' content='en'/>
      <meta itemprop='wordCount' content='276'/>


    <header>
      <h2 itemprop='name'><a href='/blogsetup.html'>Blog Setup</a></h2>
      <p>
        <time itemprop='datePublished' datetime='2019-09-01 00:00:00-04:00' title='2019-09-01 00:00:00-04:00'>Sun 01 September 2019</time>
          *
          <time itemprop='dateModified' datetime='2019-09-03 00:00:00-04:00' title='2019-09-03 00:00:00-04:00'>Tue 03 September 2019</time>
      </p>
      <p class='author-cat-tag'>
            <span itemprop='author' itemscope itemtype='https://schema.org/Person' class='author'>
    <span itemprop='name' class='name'><a itemprop='url' rel='author' href='/author/kaveh-gharavi.html'>Kaveh Gharavi</a></span>
  </span>


          <span itemprop="articleSection" class='category'><a href='/category/notes-for-self.html'>Notes for Self</a></span>


      </p>
    </header>

      <meta itemprop='description' content='Blog Setup Start by creating a new conda env for pelican and install conda create -n pelican conda install python pip markdown pip install pelican Then go to the kayghar.github.io folder and initiate the website pelican-quickstart Then go to /content and make this md file as the â€¦'>
      <div>
        <h1>Blog Setup</h1>
<p>Start by creating a new conda env for pelican and install</p>
<div class="highlight"><pre><span></span><span class="n">conda</span> <span class="k">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">pelican</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">python</span> <span class="n">pip</span> <span class="n">markdown</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">pelican</span>
</pre></div>


<p>Then go to the kayghar.github.io folder and initiate the website</p>
<div class="highlight"><pre><span></span><span class="n">pelican</span><span class="o">-</span><span class="n">quickstart</span>
</pre></div>


<p>Then go to /content and make this md file as the first blog post.</p>
<div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">content</span>
<span class="n">mkdir</span> <span class="n">blogposts</span> <span class="n">journal</span>
<span class="n">cd</span> <span class="n">blogposts</span>
<span class="n">touch</span> <span class="mi">00</span><span class="o">-</span><span class="n">BlogSetup</span><span class="p">.</span><span class="n">md</span>
</pre></div>


<p>The markdown file must include a title: line in the beginning, as well as
other optional ones:</p>
<div class="highlight"><pre><span></span><span class="n">title</span><span class="o">:</span> <span class="n">Blog</span> <span class="n">Setup</span>
<span class="n">slug</span><span class="o">:</span> <span class="n">blogsetup</span>
<span class="n">category</span><span class="o">:</span> <span class="n">Posts</span>
<span class="n">date</span><span class="o">:</span><span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">01</span>
<span class="n">modified</span><span class="o">:</span><span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">01</span>
</pre></div>


<p>Now, running either of the following will create all the static html files
in /output</p>
<div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">html</span>
<span class="n">make</span> <span class="n">publish</span>
</pre></div>


<p>And we can get python's http server to server the contents of output/ on
socket 8000:</p>
<div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">http</span><span class="p">.</span><span class="n">server</span> <span class="k">output</span>
</pre></div>


<p>Make changes and repeat. When we're happy we should push to remote. The
question is how to automate pushing to GitHub pages.</p>
<ol>
<li>Develop on branch gh-pages.</li>
<li>make publish, iterate.</li>
<li>When happy, git add ., git commit, git push.</li>
<li>When ready to Actually Push (TM), checkout branch master.</li>
</ol>
<p>Now we need to copy contents of /output from branch gh-pages to the root
folder in branch master, git commit, and pit push. Let's write a
script that does that:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nv">commitmessage</span><span class="o">=</span><span class="s2">&quot;`git log --format=%B -n 1 gh-pages`&quot;</span>
git checkout gh-pages -- output/
cp -r output/* ./
rm -r output/
git add .
git commit -m <span class="s2">&quot;</span><span class="nv">$commitmessage</span><span class="s2"> -- Copied to branch master.&quot;</span>
git push
</pre></div>
</td></tr></table>

<p>This script is saved as deployfrombranch.sh added to gitignore. And, I
believe we are done!</p>
      </div>
  </article>

  </main>


  <footer>
<!-- Proudly powered by Pelican which takes great advantage of Python, with Apricot theme (v0.1.0) by Yu-Jie Lin. -->

  </footer>
</body>